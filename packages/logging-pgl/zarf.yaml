kind: ZarfPackageConfig
metadata:
  name: "init-package-logging"

components:
  - name: logging
    description: |
      Deploys Promtail Grafana & Loki (PGL) stack. 
      Aggregate logs from different containers and presents them in a dashboard. 
      Recommended if you don't/won't have another logging stack deployed in the cluster.
    images:
      - docker.io/grafana/promtail:2.7.0
      - grafana/grafana:8.3.5
      - grafana/loki:2.6.1
      - quay.io/kiwigrid/k8s-sidecar:1.19.2
    manifests:
      - name: logging-connect
        namespace: zarf
        files:
          - connect.yaml
    charts:
      - name: loki-stack
        releaseName: zarf-loki-stack
        url: https://grafana.github.io/helm-charts
        version: 2.8.9
        namespace: zarf
        valuesFiles:
          - pgl-values.yaml
