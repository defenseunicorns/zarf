kind: ZarfPackageConfig
metadata:
  name: "init-package-zarf-injector"
  description: "Used to bootstrap the seed registry without an external registry"

components:
  - name: zarf-injector
    description: |
      Bootstraps a cluster using a tiny Rust binary to deploy the internal Zarf Registry. 
      Removed and destroyed after the registry is booted.
    required: true
    cosignKeyPath: ../../cosign.pub
    files:
      # Rust Injector Binary
      - source: sget://defenseunicorns/zarf-injector:###ZARF_PKG_ARCH###-###ZARF_PKG_VAR_INJECTOR_VERSION###
        target: "###ZARF_TEMP###/zarf-injector"
        executable: true
