kind: ZarfPackageConfig
metadata:
  name: component-scripts
  description: "Test component to demonstrate script timeout feature"

components:
  - name: create
    required: true
    scripts:
      # Note these files will be created in this directory, regardless of where the package create command is called from
      create:
        before:
          - "touch test-create-before.txt"
        after:
          - "touch test-create-after.txt"
  # This script will pass after 1 second
  - name: deploy
    required: true
    scripts:
      before:
        - "touch test-deploy-before.txt"
      after:
        - "touch test-deploy-after.txt"

  # This script will fail after 1 seconds
  - name: timeout
    scripts:
      timeoutSeconds: 1
      before:
        - "sleep 30"
